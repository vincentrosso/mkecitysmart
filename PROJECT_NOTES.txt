Development notes for mkecitysmart
---------------------------------------

Change log (most recent first)
- 2026-01-31 [F-104] Tow Helper: Created TowHelperScreen with Recovery Guide (5-step process) and Tow Lots directory; Milwaukee tow lot data with phone/address/hours; quick-dial phone integration; Google/Apple Maps directions; fee estimator; tips to avoid future tows; dashboard tile.
- 2026-01-31 [F-103] Saved Places: SavedPlace model + SavedPlacesService with Firestore persistence, local caching, geohash encoding; SavedPlacesScreen with home/work cards, favorites list, place editor sheet; per-place notification radius; linked from Profile screen.
- 2026-01-31 [F-403] Analytics Instrumentation: Added firebase_analytics + firebase_crashlytics; AnalyticsService with screen/event/error tracking; FlutterError.onError and PlatformDispatcher.onError handlers; user ID binding; tracking in FeedScreen, SavedPlacesScreen, TowHelperScreen.
- 2026-01-31 [F-402] Performance: Enabled Firestore persistence (100MB cache); CacheService with LRU eviction, TTL, namespaced storage; geohash-based querying in FeedFilterService.
- 2026-01-31 [F-006] Sightings feed filters: Created FeedFilterService for scalable query building; FeedScreen with filter bar UI (radius: 1mi/5mi/10mi/city-wide; time: 1hr/2hr/6hr/24hr/all); haversine distance filtering from user position; Firestore time window queries; pagination with Load More (20/page); improved card UI with relative time and distance display.
- 2026-01-31 [F-108] User profile display: Updated CitySmartScaffold and MainDrawer with signed-in user info; avatar+name in app bar with PopupMenu (Profile/Preferences/Sign Out); drawer header with user details and sign-out confirmation dialog.
- 2026-01-31 [F-107] Ticket Tracker: Built TicketTrackerScreen with tab-based UI (Open/Paid/Add New); ImagePicker photo capture; manual entry form; payment tracking with late fee calculations; dashboard tile and route.
- 2026-01-31 [F-106] Parking Finder: Created ParkingFinderScreen with FlutterMap; 10 Milwaukee parking locations (garages/lots/street); color-coded markers (Blue=Garage, Green=Lot, Yellow=Street); tap for details with Google Maps directions.
- 2026-01-31 [F-105] User onboarding: 5-page flow (Welcome, Avoid Tickets, Alt-Side, Notifications, Create Account); OnboardingService with SharedPreferences; integrated into main.dart routing; CitySmart brand styling.
- 2026-01-31 [F-405] Garbage Day fix: Fixed URL case sensitivity in GarbageScheduleService; Milwaukee DPW API changed `DPWServletsPublic` â†’ `DpwServletsPublic`; was causing HTTP 302 redirects.
- 2026-01-31 [F-203] EV charging map: Simplified for mobile; collapsible filter panel; FlutterMap with OpenChargeMap; connector filters (CCS/CHAdeMO/J1772/Tesla); color-coded markers by power; tap-to-expand station details.
- 2026-01-31 [F-102] Smart notifications complete: Added sendHighRiskAlerts Cloud Function for citation-based risk alerts; integrated with parking risk heatmap system.
- 2026-01-31 [F-101] Parking risk heatmap: Processed 466K Milwaukee citations into 44 geohash risk zones (Firestore citation_risk_zones); Cloud Functions (getRiskForLocation, getRiskZones, sendHighRiskAlerts); ParkingRiskService + ParkingRiskBadge; FlutterMap heatmap with color-coded risk levels (green/yellow/orange/red).
- 2026-01-31 [F-404] TestFlight build: New archive with onboarding, parking finder, ticket tracker, EV map improvements, user profile display, parking risk heatmap; ready for App Store Connect upload.
- 2026-01-18 [F-102] Push notification infrastructure completed (FCM tokens, APNs forwarding, sendNearbyAlerts callable); emulator testing with rate limits/audit logs; ready for production activation.
- 2026-01-17/18 [F-008] Moderation baseline implemented; report button increments reports; 4+ reports exclude from feed; per-anonymous UID rate limiting; verified locally.
- 2026-01-16 [F-404] Production build uploaded to App Store Connect; internal TestFlight enabled; full core loop verified on real iOS devices (submit â†’ appear â†’ expire â†’ disappear).
- 2026-01-15/16 [F-007] Expiration engine active via cleanupExpiredSightings; sightings auto-expire and disappear from live feed; verified with Dretzka Park test doc (~8 PM).
- 2026-01-15/16 [F-003] Permanent app-to-backend connectivity: anonymous auth; submissions create sightings/alerts with mirroring; verified via iOS simulator, curl, and Cloud Functions logs.
- 2026-01-15 [EMULATORS] Wired debug-only emulators for Functions/Firestore/Auth in main bootstrap; TODO: add Storage emulator wiring (FirebaseStorage.useStorageEmulator).
- 2026-01-15 [EMULATORS] Storage emulator note: FirebaseStorage.instance.useStorageEmulator('localhost', 9199).
- 2026-01-15/16 [F-404] Release build uploaded to App Store Connect; TestFlight internal testing enabled and functioning; iOS build confirmed production-ready.
- 2026-01-15 [F-007] Expiration system verified: test doc flipped to status="expired"; cleanupExpiredSightings runs on schedule; no manual intervention required.
- 2026-01-15 [F-003] Permanent app-to-backend connectivity confirmed: end-to-end appâ†’backendâ†’Firestoreâ†’mirror chain; sightings created; functions mirror to alerts/global; anonymous auth and rate limits verified; no crashes or silent failures.
- 2026-01-14 [F-003] App-to-backend connectivity confirmed via iOS simulator submission; sightings write succeeded with mirroring; test doc "Dwayne Jan 14th Test Feed" at Dretzka Park, expires ~8 PM (temp open rules used).
- 2026-01-14 [F-002] Inventory Cloud Functions (prod) - clean deploy confirmed with logs.
  Status: DONE
  Goal: Full visibility into deployed functions in production (project: mkeparkapp-1ad15), with confirmation of clean deploys, consistent configs (region: us-central1, runtime: nodejs20, memory: 256MiB), and no errors in audit/runtime logs. This answers "What backend actually exists right now?" and verifies stability for the P0 chain.
  Inventory Summary: 6 deployed 2nd gen Cloud Functions (via gcloud functions describe --gen2):
    - cleanupExpiredSightings (Scheduled trigger; expiration system)
    - helloWorld (HTTPS trigger; test endpoint)
    - mirrorSightingsToAlerts (Firestore write on sightings/{sightingId})
    - mirrorUserSightingsToGlobal (Firestore create on users/{uid}/sightings/{sightingId})
    - notifyOnApproval (Firestore update on alerts/{alertId})
    - submitSighting (Callable HTTPS trigger; core submission endpoint)
  Config Checks: All functions consistent (us-central1, nodejs20, 256MiB); triggers align with app needs (submission, mirroring for feeds/alerts, scheduled cleanup).
  Log Verification: Deployment audits successful (e.g., 2026-01-14T18:52:19Z for submitSighting); runtime errors none (severity>=ERROR empty); cleanupExpiredSightings runs ~every 5 min (HTTP 200 OK, ~0.1â€“1.0s latency); submitSighting has no invocations yet.
  Commands Used: gcloud functions describe --gen2; gcloud logging read (resource.type=cloud_run_revision, service_name, severity>=ERROR).
  Recommendations: Add targeted console.log statements (e.g., "Expired X sightings") for faster debugging; backend appears stable.
- 2026-01-11 [F-005] Verified sightings can be created and persist in Firestore; manual docs showed feed invisibility comes from path/schema mismatch; data layer is sound when written to correct collections.
- 2026-01-10 [F-001] Confirmed MKE City Smart is using the correct Firebase project (Blaze plan). Ruled out environment mismatch as cause of missing alerts/sightings. Removed â€œwrong projectâ€ as a failure vector in backend debugging.
- 2026-01-11 [F-004] Defined and validated the production Firestore schema. Locked core collections (sightings, live_sightings, alerts) and required fields. Confirmed that writing to incorrect paths explains â€œmissingâ€ feed data. Schema is now the single source of truth for app + backend.
- 2026-01-14 [F-401] Updated alerts rules for public reads + admin deletes; added firestore.indexes.json reference; deployed rules + indexes.

- Flutter version: uses Flutter 3.29.x locally; run `flutter --version` if needed.
- Platforms: iOS, Android, Web; web uses `web/firebase-config.json` and Dart config in `lib/firebase_options.dart`.
- Firebase: Config in `lib/firebase_options.dart` (web/android/ios). Web also has `web/firebase-config.json`. Register authorized domains for web in Firebase Auth.
- Auth flows:
  * Email/password: handled in `lib/screens/auth_screen.dart` via `UserProvider.register/login`.
  * Phone, Google, Apple: see `UserProvider` methods and `_handlePhoneSignUp`, `_handleGoogle`, `_handleApple` in auth screen.
  * Guest mode supported.
- Profile:
  * Profile page (`lib/screens/profile_screen.dart`) now geocodes addresses via `geocoding` and saves raw + formatted address + lat/lng in `UserProfile`.
  * `UserProfile` JSON fields: `formattedAddress`, `addressLatitude`, `addressLongitude` added.
- Linting:
  * `flutter analyze` currently clean. Deprecated `withOpacity`, `describeEnum`, and `desiredAccuracy` already replaced.
  * Welcome dialog and quick-start tutorial are disabled via flags in `lib/main.dart`. Promo banner on dashboard is commented out.
- CI sanity check:
  * Run `flutter analyze` after changes (fast lint/error pass; no device/emulator required).
- Web embeds:
  * `openchargemap_embed_web.dart` and `publicstuff_embed_web.dart` use `package:web` instead of `dart:html`. Dependency `web` is added to pubspec.
- Scripts:
  * `scripts/test_firebase_auth.py` to hit Firebase Identity Toolkit REST (sign-up/sign-in). Reads web API key from env `FIREBASE_WEB_API_KEY` or falls back to `lib/firebase_options.dart` web key.
- Pods / iOS:
  * CocoaPods repo updated and pods installed with Firebase iOS SDK 12.4.0. Warning about base configuration is benign with custom xcconfigs.
- Feature toggles:
  * Welcome dialog: `CitySmartShell._welcomeDialogEnabled` (currently false).
  * Quick start tutorial: `_quickStartEnabled` false; helper widgets removed.
  * Promo banner disabled in `lib/screens/dashboard_screen.dart`.
- Addressing:
  * When updating profile address, failures in geocoding block the save with a snackbar.
- Debugging:
  * VS Code launch config in `.vscode/launch.json` includes Flutter web (Chrome).
- Navigation chrome:
  * Shared `CitySmartScaffold` (drawer + CitySmart title + bottom nav) in `lib/widgets/citysmart_scaffold.dart`.
  * Applied to landing, dashboard, feed, profile, auth, vehicles, and charging map screens; bottom nav routes to `/dashboard`, `/citysmart-map`, `/citysmart-feed`.
- Branding:
  * User-facing brand text updated to â€œMKE CitySmartâ€ across app bars, welcome, splash, and auth copy.
  * iOS/macOS app icons updated from `assets/MKE_AppIcon.appiconset.zip` into:
    - `ios/Runner/Assets.xcassets/AppIcon.appiconset/`
    - `macos/Runner/Assets.xcassets/AppIcon.appiconset/` (currently uses the same set; replace with macOS-specific sizes if provided).
  * Web manifest renamed to "MKE CitySmart" with updated icons (`web/icons/Icon-192.png`, `Icon-512.png`, maskable variants) and favicon regenerated from the 1024px master.

New Features (2026-01-31)
- Onboarding:
  * 5-page first-time user experience in `lib/screens/onboarding_screen.dart`
  * Pages: Welcome, Avoid Tickets, Alt-Side Parking, Notifications, Create Account
  * OnboardingService (`lib/services/onboarding_service.dart`) tracks completion via SharedPreferences
  * Auto-routes first-time users; skips for returning users
- Parking Risk Heatmap:
  * Citation data: 466K Milwaukee parking citations processed into 44 geohash risk zones
  * Firestore collection: `citation_risk_zones` with geohash, riskScore, citationCount, topViolations, coordinates
  * Cloud Functions: `getRiskForLocation`, `getRiskZones`, `sendHighRiskAlerts` (us-central1, nodejs20)
  * Flutter: `ParkingRiskService` (`lib/services/parking_risk_service.dart`), `ParkingRiskBadge` widget
  * Heatmap screen: `lib/screens/parking_heatmap_screen.dart` with FlutterMap + color-coded risk polygons
- Parking Finder:
  * `lib/screens/parking_finder_screen.dart` - interactive map with 10 Milwaukee parking locations
  * Color-coded markers: Blue (Garage), Green (Lot), Yellow (Street)
  * Tap markers for details; "Get Directions" launches Google Maps
  * Route: `/parking-finder`, dashboard tile added
- Ticket Tracker:
  * `lib/screens/ticket_tracker_screen.dart` - photo capture and ticket tracking
  * Tab-based UI: Open tickets, Paid tickets, Add New
  * ImagePicker for photo capture; manual entry form with violation type, amount, due date
  * Payment tracking with late fee calculations ($25 after 14 days)
  * Route: `/ticket-tracker`, dashboard tile added
- EV Charging Map:
  * Simplified `lib/screens/charging_map_screen.dart` for mobile
  * Collapsible filter panel with connector types (CCS, CHAdeMO, J1772, Tesla)
  * FlutterMap with OpenChargeMap integration
  * Color-coded markers by power level; tap-to-expand station details
- User Profile Display:
  * `CitySmartScaffold` updated with user avatar + name in app bar when signed in
  * PopupMenuButton with Profile, Preferences, Sign Out options
  * `MainDrawer` header shows avatar, name, email with Sign Out option
  * Sign-out confirmation dialog prevents accidental logout
- Saved Places (F-103):
  * `lib/models/saved_place.dart` - SavedPlace model with Firestore/JSON serialization, geohash support
  * `lib/services/saved_places_service.dart` - Firestore persistence, local caching, real-time sync
  * `lib/screens/saved_places_screen.dart` - Home/work cards, favorites list, place editor sheet
  * Per-place notification radius settings (0.1 to 2.0 miles)
  * One home/work location, up to 50 favorites per user
  * Linked from Profile screen; initialized in app bootstrap
- Tow Helper (F-104):
  * `lib/screens/tow_helper_screen.dart` - Vehicle recovery guidance
  * Recovery Guide tab: 5-step process with phone/map actions
  * Tow Lots tab: Milwaukee tow lot directory with contacts
  * Quick-dial phone integration, Google/Apple Maps directions
  * Fee estimator with tow/storage/admin breakdown
  * Tips to avoid future tows
- Performance + Analytics (F-402/F-403):
  * Firestore persistence enabled (100MB cache) for offline-first
  * `lib/services/cache_service.dart` - LRU eviction, TTL, namespaced storage
  * `lib/services/analytics_service.dart` - Firebase Analytics + Crashlytics wrapper
  * Automatic crash reporting via FlutterError.onError, PlatformDispatcher.onError
  * Event tracking in FeedScreen, SavedPlacesScreen, TowHelperScreen

Open items / reminders:
- If re-enabling welcome or quick-start, restore content in `main.dart`.
- If you rotate Firebase keys, update both `lib/firebase_options.dart` and `web/firebase-config.json`.
- For web iframe embeds, ensure `web` dependency stays in sync and authorized domains are set.
- After any code changes, run `flutter analyze` to ensure code quality.
- The project should maintain at least 80% unit test coverage.

App layout (current)
- Shell: `CitySmartScaffold` (drawer + title + bottom nav + user profile) wraps all main screens.
- Routes: `/dashboard` (default home), `/citysmart-feed`, `/citysmart-map`, `/profile`, `/auth/login`, `/auth/register`, `/vehicles`, `/charging-map`, `/parking-heatmap`, `/parking-finder`, `/ticket-tracker`, `/onboarding`, `/saved-places`, `/tow-helper`.
- Drawer: dashboard, map, feed, profile, parking finder, ticket tracker, tow helper, saved places; user info in header with sign-out.
- Dashboard tiles include alerts, permits, tickets, street sweeping, vehicles, EV chargers, alt side parking, parking finder, ticket tracker, parking risk heatmap, tow helper, saved places.
- Quick start, welcome banner, and promo banner are disabled via flags in `lib/main.dart` / `dashboard_screen.dart`.

Coverage and size snapshot (after latest tests)
- Overall: 26.44% (1703/6440 lines) from `coverage/lcov.info`.
- Coverage by segment: screens 4.6% (128/2813), services 75.2% (574/763), widgets 16.7% (26/156), models 84.1% (391/465), providers 25.6% (188/733), data 26.7% (356/1331), citysmart 15.3% (13/85).
- LOC by segment (Dart): screens 7,739; services 2,000; widgets 525; models 1,142; providers 1,836; data 3,079; citysmart 611.

Architecture flow (text diagram)
- UI (screens/widgets) â‡„ Providers (ChangeNotifier, e.g., UserProvider)
    Providers depend on UserRepository + services for async work and local hydration.
- UserRepository
    â‡„ Firebase Auth (session)
    â‡„ Firestore (users + subcollections)
    â‡„ Drift Local DB (profiles, vehicles, pending mutations)
    â†’ Outbox sync: enqueue on Firestore failure â†’ syncPending retries when online.
- Services
    - ApiClient (POST with env base URL/API key) â†’ Prediction/Notification/token registration.
    - RiskAlertService (timer, tow/ticket scoring) â†’ LocationService + CityTicketStatsService + TicketRiskPredictionService â†’ NotificationService (local/FCM).
    - NotificationService (FCM/local) guarded for web/disabled flag.
    - StreetSegmentService (ArcGIS), TicketApiService (mock), PredictionApiService (HTTP).
    - LocationService (Geolocator, sample zones, distance/directions).
- Firebase bootstrap
    - firebase_bootstrap + firebase_options (platform configs), web also uses web/firebase-config.json.

Future Enhancements (to implement if users request)
---------------------------------------
- Multi-State Expansion (LONG-TERM ROADMAP):
  * Current state: App supports multi-city data collection via MunicipalityService
  * All citation/sighting data is tagged with municipalityId, city, state
  * Wisconsin cities are currently the focus with _knownWisconsinCities list
  * Phase 1 (Current): Wisconsin cities - Milwaukee metro focus, data collection from any WI city
  * Phase 2 (Future): Midwest expansion - Illinois, Minnesota, Michigan, Iowa
  * Phase 3 (Long-term): National expansion - Major metro areas across US
  * Technical foundation already in place:
    - MunicipalityService detects city/state from GPS coordinates
    - citation_analytics organized by municipalityId
    - municipality_stats tracks data per city
    - sighting_stats tracks sightings per city
  * When expanding to new state:
    1. Add state's cities to known cities list
    2. Source city parking rules/regulations
    3. Build city-specific rule packs (like CityRulePack)
    4. Partner with local users for beta testing
    5. Launch when sufficient data collected (500+ citations for predictions)
  * Monetization scales with cities - each new metro is a new market

- Full App Localization (i18n):
  * Current state: Language setting in City Settings changes the app locale for date/time formats and
    Material widget text (calendar, date pickers, dialog buttons), but custom app UI text (like "Save",
    "Settings", "Dashboard") remains hardcoded in English.
  * To implement full translations: Use Flutter's localization system with ARB files.
    - Add `flutter_localizations` to pubspec.yaml (already done)
    - Create `lib/l10n/` folder with ARB files: `app_en.arb`, `app_es.arb`, `app_ar.arb`, etc.
    - Add `generate: true` to pubspec.yaml flutter section
    - Create `l10n.yaml` config file
    - Replace hardcoded strings with `AppLocalizations.of(context)!.stringKey`
    - Supported languages: English (en), Spanish (es), Arabic (ar), French (fr), Chinese (zh), Hindi (hi), Greek (el)
  * Hmong (hmn) not supported by Flutter's Material localizations - would need custom delegate.
  * Estimated effort: ~2-3 days for full implementation depending on string count.

- Custom Email Domain Setup (PENDING - 2026-02-05):
  * Domain: mkecitysmart.com
  * Purpose: Send Firebase Auth emails (verification, password reset) from noreply@mkecitysmart.com instead of noreply@mkeparkapp-1ad15.firebaseapp.com
  * DNS Records Configured (verified via dig):
    - TXT "firebase=mkeparkapp-1ad15" (Firebase verification)
    - TXT "v=spf1 include:_spf.firebaseemail.com ~all" (SPF for Firebase email)
    - CNAME firebase1._domainkey.mkecitysmart.com â†’ mail-mkecitysmart-com.dkim1.firebasemail.com (DKIM)
    - CNAME firebase2._domainkey.mkecitysmart.com â†’ mail-mkecitysmart-com.dkim2.firebasemail.com (DKIM)
  * Status: DNS records propagated correctly, waiting for Firebase Console to verify domain
  * Next Steps:
    1. Check Firebase Console â†’ Authentication â†’ Templates â†’ Email domain verification status
    2. Once verified, update email templates with custom sender (noreply@mkecitysmart.com)
    3. Customize email template text/branding to match MKE CitySmart
  * APNs Key for Phone Auth: AuthKey_937GPQ4M9B.p8 (uploaded to Firebase Console)

- Welcome Dialog Prompt (FOR FUTURE IMPLEMENTATION - 2026-02-05):
  * Show after successful registration/first sign-in
  * Design: Celebratory, community-focused, brand-aligned
  * Copy:
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ğŸ‰ Welcome to the Team!

    Thanks for joining MKE CitySmart!

    Together, we're building a community that helps 
    Milwaukee drivers avoid tickets and stay informed.

    ğŸš— One sighting at a time.
    ğŸ“‹ One report at a time.  
    ğŸ¤ Protecting each other.

    [Let's Go!]
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  * Implementation Notes:
    - Show as modal dialog or full-screen welcome after first sign-in
    - Track with SharedPreferences so it only shows once per user
    - Button dismisses and navigates to dashboard
    - Consider adding confetti animation for delight


===============================================
GOOGLE PLAY STORE SETUP - IN PROGRESS
===============================================
Last Updated: 2026-02-05

STATUS: Step 2 of 5 - Need graphics before publishing

COMPLETED:
âœ… Step 1: Google Play Developer Account (user already has one)
âœ… Android app configured (package: com.mkecitysmart.app)
âœ… Fastlane configured for deployment
âœ… deploy_android.sh script ready
âœ… Firebase/Google Services configured

IN PROGRESS:
â³ Step 2: Create App Listing in Google Play Console

TODO - APP LISTING:
1. Go to https://play.google.com/console
2. Click "Create app"
3. Fill in:
   - App name: MKE CitySmart
   - Default language: English (United States)
   - App or game: App
   - Free or paid: Free
4. Check declarations and click "Create app"

TODO - STORE LISTING CONTENT:
- Short description (80 chars): 
  "Track Milwaukee parking citations, get reminders, and avoid late fees."

- Full description:
  """
  MKE CitySmart helps Milwaukee residents stay on top of parking citations and never miss a payment deadline.

  ğŸ“‹ TRACK YOUR CITATIONS
  â€¢ Add citations manually or scan them with your camera
  â€¢ See amounts owed with automatic late fee calculations
  â€¢ Get organized with Open and Paid ticket tabs

  â° SMART REMINDERS
  â€¢ Receive notifications before payment deadlines
  â€¢ Avoid costly late fees with timely alerts
  â€¢ Customize reminder timing to fit your schedule

  ğŸ—ºï¸ PARKING MADE EASIER
  â€¢ View nearby parking options
  â€¢ Check street sweeping schedules
  â€¢ Find meter locations

  ğŸ”’ PRIVATE & SECURE
  â€¢ Your data stays on your device
  â€¢ No account required to get started
  â€¢ Optional cloud sync with phone verification

  Built for Milwaukee, by Milwaukee.
  """

TODO - REQUIRED GRAPHICS (NOT YET CREATED):
âŒ App icon: 512 x 512 px (can resize from existing 1024x1024)
   Source: ios/Runner/Assets.xcassets/AppIcon.appiconset/icon_1024.png
âŒ Feature graphic: 1024 x 500 px
   - Use Canva template "Google Play Feature Graphic"
   - Add app icon + tagline: "Track Citations. Avoid Late Fees."
   - Brand colors: dark green #081D19, gold #E0C164
âŒ Phone screenshots: Min 2, 320-3840px
   - Dashboard screen
   - My Tickets screen
   - Ticket detail with payment info
   - Use mockuphone.com to frame screenshots
âŒ Tablet screenshots (optional): 7" and 10"

TODO - REQUIRED INFO:
- Privacy Policy URL: https://mkeparkapp-1ad15.web.app/privacy.html
- App category: Tools or Maps & Navigation
- Contact email: (required)
- Contact phone: (optional)
- Website: (optional)

TODO - CONTENT RATING:
- Complete questionnaire in Policy â†’ App content
- Target audience: 18+ recommended
- Complete data safety form

TODO - RELEASE SIGNING:
- Currently using debug signing (see android/app/build.gradle.kts line 40)
- Need to create release keystore:
  keytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload
- Update android/app/build.gradle.kts with release signing config

TODO - SERVICE ACCOUNT:
- The path in deploy_android.sh points to Vincent's Dropbox path
- Need your own Google Play API service account JSON
- Download from: Google Play Console â†’ Setup â†’ API access

NEXT STEPS WHEN READY:
1. Create graphics (icon, feature graphic, screenshots)
2. Create release keystore
3. Set up service account
4. Create app listing in Play Console
5. Build and upload: flutter build appbundle --release
6. Submit for internal testing first

===============================================

MKE CITYSMART - AI VIDEO CREATOR PROMPT
===============================================
Use this prompt with an AI video creator (Runway, Pika, Sora, etc.) to generate
a 60-second marketing/promo video for the App Store and social media.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FULL VIDEO PROMPT - 60 SECONDS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STYLE: Cinematic urban footage, smooth transitions, modern motion graphics.
COLOR PALETTE: Dark green (#081D19), gold (#E0C164), white.
MUSIC: Upbeat, confident, urban â€” think "city in motion" energy.
VOICE-OVER TONE: Friendly, empowering, community-driven.
RESOLUTION: 1080x1920 (vertical for TikTok/Reels) or 1920x1080 (landscape for YouTube/App Store).

--- SCENE 1 (0:00â€“0:05) â€” THE HOOK ---
VISUAL: Aerial drone shot of downtown Milwaukee at golden hour. Camera swoops down
toward a busy street with parked cars. A parking enforcement vehicle turns a corner.
TEXT OVERLAY (bold, animated): "Still getting parking tickets in Milwaukee?"
VOICE-OVER: "Still getting surprised by parking tickets?"

--- SCENE 2 (0:05â€“0:12) â€” THE PROBLEM ---
VISUAL: Close-up of a parking ticket being placed on a windshield. Cut to a driver's
frustrated reaction. Quick montage: a tow truck hooking a car, an alternate-side
parking sign, a street sweeper approaching parked cars.
TEXT OVERLAY: "$75 ticket... $150 tow... It adds up fast."
VOICE-OVER: "Tickets, tow fees, missed street sweeping... it all adds up. What if
your neighbors could warn you before it happens?"

--- SCENE 3 (0:12â€“0:18) â€” INTRODUCING THE APP ---
VISUAL: A hand pulls out an iPhone. The MKE CitySmart app opens to the Dashboard
screen showing feature tiles: Citation Risk, Heatmap, Sightings Feed, Parking Finder.
[INSERT SCREENSHOT: Dashboard]
TEXT OVERLAY: "Meet MKE CitySmart"
VOICE-OVER: "Meet MKE CitySmart â€” your community-powered parking guardian for
Milwaukee."

--- SCENE 4 (0:18â€“0:25) â€” LIVE MAP & HEATMAP ---
VISUAL: Smooth zoom into the app's interactive parking risk heatmap. Color-coded zones
pulse from green to red. A pin drops on a high-risk area near downtown. The map
rotates slightly for 3D effect.
[INSERT SCREENSHOT: Parking Heatmap Map]
TEXT OVERLAY: "See citation risk zones in real time"
VOICE-OVER: "See real-time citation risk zones across Milwaukee. Know which blocks
are hot â€” and which are safe to park."

--- SCENE 5 (0:25â€“0:30) â€” OCR SIGN SCANNER ---
VISUAL: User holds phone up to a parking regulation sign. The camera view activates
with scanning animation. Text on the sign gets highlighted and interpreted: "No Parking
Tue/Thu 8AMâ€“12PM - Street Sweeping."
[INSERT SCREENSHOT: OCR Scanner Active â†’ OCR Result]
TEXT OVERLAY: "Scan any sign. Instantly decoded."
VOICE-OVER: "Confused by parking signs? Just point your camera. We'll decode it
instantly."

--- SCENE 6 (0:30â€“0:37) â€” COMMUNITY ALERTS ---
VISUAL: Split screen â€” left side shows a user tapping "Report Sighting" with the
enforcer/tow truck toggle. Right side shows another driver's phone lighting up with
a push notification: "âš ï¸ Enforcer spotted on Brady St â€” 2 min ago."
[INSERT SCREENSHOT: Report Sighting Screen + Push Notification]
TEXT OVERLAY: "Neighbors warning neighbors."
VOICE-OVER: "When someone spots an enforcer or tow truck, the whole community gets
alerted. Real people, real-time warnings."

--- SCENE 7 (0:37â€“0:43) â€” THE FEED ---
VISUAL: Scrolling through the sightings feed showing recent community reports with
timestamps, distances, and enforcer types. Cards animate in smoothly.
[INSERT SCREENSHOT: Feed Screen]
TEXT OVERLAY: "Live community feed â€” always updated"
VOICE-OVER: "Check the live feed to see what's happening near you. Filter by
distance, time, and type."

--- SCENE 8 (0:43â€“0:48) â€” PREMIUM & REFERRALS ---
VISUAL: Quick showcase of premium features â€” unlimited alerts, priority zones,
advanced predictions. Then a "Give 7 Days, Get 7 Days" referral card animates in.
[INSERT SCREENSHOT: Subscription/Pro Screen + Referral Screen]
TEXT OVERLAY: "Go Pro. Share with friends."
VOICE-OVER: "Upgrade to Pro for unlimited alerts and predictions. Share with friends
â€” give 7 days free, get 7 days free."

--- SCENE 9 (0:48â€“0:55) â€” SOCIAL PROOF ---
VISUAL: Animated counter ticking up: "2,400+ Milwaukee drivers protected." Quick cuts
of diverse Milwaukee residents smiling at their phones. City landmarks in background
(Hoan Bridge, Third Ward, Brady Street).
TEXT OVERLAY: "Join thousands of Milwaukee drivers"
VOICE-OVER: "Thousands of Milwaukee drivers already protect each other every day."

--- SCENE 10 (0:55â€“1:00) â€” CALL TO ACTION ---
VISUAL: App icon animates center screen with a glowing pulse. App Store and Google
Play badges slide in below. Milwaukee skyline silhouette in background.
TEXT OVERLAY:
  "MKE CitySmart"
  "Download Free Today"
  [App Store badge] [Google Play badge]
VOICE-OVER: "Download MKE CitySmart free today. Because in Milwaukee, we look out
for each other."

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SCREENSHOTS TO CAPTURE FOR VIDEO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Capture these from the running app on a real device or simulator:

  1. Dashboard         â†’ Main dashboard with all feature tiles visible
  2. Parking Heatmap   â†’ Map view with colored risk zones
  3. OCR Scanner       â†’ Camera view scanning a parking sign (active state)
  4. OCR Result        â†’ Decoded sign text displayed
  5. Push Notification â†’ Lock screen showing enforcer/tow alert
  6. Report Sighting   â†’ Form with enforcer type, tow truck toggle, location
  7. Feed Screen       â†’ Community sightings feed with distance + time cards
  8. Referral Screen   â†’ "Give 7 Days, Get 7 Days" section
  9. Subscription      â†’ Pro features paywall/upgrade screen

TIP: Use Simulator â†’ File â†’ New Screen Recording for animated screen captures,
or use CleanShot X / Xcode screenshot tool for stills.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ALTERNATE SHORT VERSIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

15-SECOND VERSION (Instagram/TikTok Ad):
  Scene 1 (0-3s): Ticket on windshield â†’ "Tired of this?"
  Scene 2 (3-8s): App opens â†’ heatmap â†’ notification pops up
  Scene 3 (8-12s): Feed scrolling â†’ community counter
  Scene 4 (12-15s): App icon + "Download Free" + store badges

30-SECOND VERSION (YouTube Pre-Roll):
  Scene 1 (0-5s): Hook â€” enforcement vehicle + "Still getting tickets?"
  Scene 2 (5-15s): App walkthrough â€” dashboard, heatmap, OCR scanner
  Scene 3 (15-25s): Community alerts â€” report â†’ notification â†’ feed
  Scene 4 (25-30s): CTA â€” "Download MKE CitySmart free today"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOCIAL MEDIA CAPTION TEMPLATES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

INSTAGRAM/TIKTOK:
  "POV: You never get a parking ticket in Milwaukee again ğŸš—ğŸ’¨
   MKE CitySmart â†’ community-powered parking alerts.
   Your neighbors warn you before enforcers reach your block.
   ğŸ”— Link in bio | Free download
   #Milwaukee #MKE #ParkingHack #MKECitySmart #WisconsinLife"

TWITTER/X:
  "Milwaukee drivers are saving each other from parking tickets with
   @MKECitySmart ğŸš¨ Real-time enforcer alerts, risk heatmaps, and sign
   scanning. Free on iOS & Android. #Milwaukee #MKE"

FACEBOOK:
  "Tired of surprise parking tickets? MKE CitySmart connects Milwaukee
   drivers to warn each other when enforcers and tow trucks are spotted.
   ğŸ“ Real-time heatmap | ğŸ“¸ Sign scanner | ğŸ”” Instant alerts
   Download free â†’ [link]"

===============================================


